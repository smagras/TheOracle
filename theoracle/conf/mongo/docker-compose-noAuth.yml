version: '3.5'

services:

    mongodb:
        image: mongo:latest
        container_name: "mongodb"
        environment:
          - MONGO_DATA_DIR=/data/db
          - MONGO_LOG_DIR=/data/log
        volumes:
           - type: bind
             source: ../../data/mongoLocal
             target: /data/db
           - type: bind
             source: ../../data/mongolog
             target: /data/log
        ports:
            - 27017:27017

        command: mongod --logpath /data/log/mongo.log 

        networks:
          - proxynet

        logging:
          driver: "json-file"
          options:
            max-size: "200k"
            max-file: "10"

networks:
  proxynet:
    name: custom_network